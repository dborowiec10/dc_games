<div class="row">
  <div class="col-md-12 mb-4">
    <tabset #tabs>
      <tab>
        <ng-template tabHeading><i class="icon-calculator"></i> Areas</ng-template>
        <div class="card">
          <div class="card-body">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Avg. Temp.</th>
                  <th>Sq. Metres</th>
                  <th>Price</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody >
                  <tr *ngFor="let a of areas" [id]="a['id']" tabindex="0">
                    <td>{{a['name']}}</td>
                    <td>{{a['average_temperature']}}&#8451;</td>
                    <td>{{a['square_metres']}}m<sup>2</sup></td>
                    <td>{{a['price'] | number}} D$</td>
                    <td>
                      <button type="button" (click)="viewArea(a)" class="btn btn-success btn-sm"><span class="cui-magnifying-glass"></span> Map</button>
                      <button type="button" (click)="areaDetailsView(a)" class="btn btn-info btn-sm"><span class=""></span> Details</button>
                      <button type="button" (click)="areaPurchaseView(a)" class="btn btn-warning btn-sm"><span class=""></span> Purchase</button>
                    </td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
      </tab>
      <tab>
        <ng-template tabHeading><i class="icon-basket-loaded"></i> Buildings</ng-template>
        <div class="card">
          <div class="card-body">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Sq. Metres</th>
                  <th>Price</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody >
                  <tr *ngFor="let b of buildings">
                    <td>{{b['type']}}</td>
                    <td>{{b['square_metres']}}m<sup>2</sup></td>
                    <td>{{b['price'] | number}} D$</td>
                    <td>
                      <button type="button" (click)="buildingDetailsView(b)" class="btn btn-info btn-sm"><span class=""></span> Details</button>
                      <button type="button" (click)="buildingPurchaseView(b)" class="btn btn-warning btn-sm"><span class=""></span> Purchase</button>
                    </td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
      </tab>
      <tab>
        <ng-template tabHeading><i class="icon-pie-chart"></i> Racks</ng-template>
        <div class="card">
          <div class="card-body">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Max Server Capacity</th>
                  <th>Price</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody >
                  <tr *ngFor="let r of racks">
                    <td>{{r['type']}}</td>
                    <td>{{r['max_server_capacity']}}</td>
                    <td>{{r['price'] | number}} D$</td>
                    <td>
                      <button type="button" (click)="rackDetailsView(r)" class="btn btn-info btn-sm"><span class=""></span> Details</button>
                      <button type="button" (click)="rackPurchaseView(r)" class="btn btn-warning btn-sm"><span class=""></span> Purchase</button>
                    </td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
      </tab>

      <tab>
        <ng-template tabHeading><i class="icon-pie-chart"></i> Racks Switches</ng-template>
        <div class="card">
          <div class="card-body">
            <table class="table table-striped table-sm">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Max Power Usage</th>
                  <th>Max Temperature</th>
                  <th>Max Throughput</th>
                  <th>Price</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody >
                  <tr *ngFor="let r of rack_switches">
                    <td>{{r['type']}}</td>
                    <td>{{r['max_power_usage']}}</td>
                    <td>{{r['max_temperature']}}</td>
                    <td>{{r['max_throughput']}}</td>
                    <td>{{r['price'] | number}} D$</td>
                    <td>
                      <button type="button" (click)="rackSwitchDetailsView(r)" class="btn btn-info btn-sm"><span class=""></span> Details</button>
                      <button type="button" (click)="rackSwitchPurchaseView(r)" class="btn btn-warning btn-sm"><span class=""></span> Purchase</button>
                    </td>
                  </tr>
              </tbody>
            </table>
          </div>
        </div>
      </tab>

      <tab>
        <ng-template tabHeading><i class="icon-pie-chart"></i> Servers</ng-template>

      </tab>
    </tabset>
  </div>
</div>

<div *ngIf="current_area !== null"  bsModal #area_details_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><b>{{current_area['name']}}</b></h4>
        <button type="button" class="close" (click)="area_details_modal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <h4>Details:</h4>
            <span><b><i class="fa fa-home"></i> Size:</b> {{current_area['square_metres']}}m<sup>2</sup></span><br>
            <span><b><i class="fa fa-thermometer"></i> Avg. Temp.:</b> {{current_area['average_temperature']}}&#8451;</span><br>
            <span><b><i class="fa fa-dollar"></i> Price:</b> {{current_area['price'] | number}} D$</span><br>
          </div>
          <div class="col-md-6">
            <h4>Coordinates:</h4>
            <span *ngFor="let c of current_area['coordinates']" ><b>Lat: </b> {{c[0]}}, <b>Lng: </b> {{c[1]}}<br></span>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="area_details_modal.hide()">Close</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="current_area !== null"  bsModal #area_purchase_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-warning" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><b>Purchase: </b>{{current_area['name']}}</h4>
        <button type="button" class="close" (click)="area_purchase_modal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <b>You are about to purchase the area:</b> <i>{{current_area['name']}}</i>!<br>
        <b>Price:</b> {{current_area['price'] | number}} D$
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="area_purchase_modal.hide()">Close</button>
        <button type="button" class="btn btn-warning">Purchase</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="current_building !== null"  bsModal #building_details_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><b>{{current_building['type']}}</b></h4>
        <button type="button" class="close" (click)="building_details_modal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <h4>Details:</h4>
            <span><b><i class="fa fa-home"></i> Size:</b> {{current_building['square_metres']}}m<sup>2</sup></span><br>
            <span><b><i class="fa fa-dollar"></i> Price:</b> {{current_building['price'] | number}} D$</span><br>
          </div>
          <div class="col-md-6">


          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="building_details_modal.hide()">Close</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="current_building !== null"  bsModal #building_purchase_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-warning" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><b>Purchase: </b>{{current_building['type']}}</h4>
        <button type="button" class="close" (click)="building_purchase_modal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <b>You are about to purchase the building:</b> <i>{{current_building['type']}}</i>!<br>
        <b>Price:</b> {{current_building['price'] | number}} D$
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="building_purchase_modal.hide()">Close</button>
        <button type="button" class="btn btn-warning">Purchase</button>
      </div>
    </div>
  </div>
</div>





<div *ngIf="current_rack !== null"  bsModal #rack_details_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><b>{{current_rack['type']}}</b></h4>
        <button type="button" class="close" (click)="rack_details_modal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <h4>Details:</h4>
            <span><b><i class="fa fa-home"></i> Size:</b> {{current_rack['square_metres']}}m<sup>2</sup></span><br>
            <span><b><i class="fa fa-dollar"></i> Price:</b> {{current_rack['price'] | number}} D$</span><br>
          </div>
          <div class="col-md-6">


          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="rack_details_modal.hide()">Close</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="current_rack !== null"  bsModal #rack_purchase_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-warning" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><b>Purchase: </b>{{current_rack['type']}}</h4>
        <button type="button" class="close" (click)="rack_purchase_modal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <b>You are about to purchase the rack:</b> <i>{{current_rack['type']}}</i>!<br>
        <b>Price:</b> {{current_rack['price'] | number}} D$
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="rack_purchase_modal.hide()">Close</button>
        <button type="button" class="btn btn-warning">Purchase</button>
      </div>
    </div>
  </div>
</div>





<div *ngIf="current_rack_switch !== null"  bsModal #rack_switch_details_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><b>{{current_rack_switch['type']}}</b></h4>
        <button type="button" class="close" (click)="rack_switch_details_modal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-md-6">
            <h4>Details:</h4>
            <span><b><i class="fa fa-dollar"></i> Price:</b> {{current_rack_switch['price'] | number}} D$</span><br>
          </div>
          <div class="col-md-6">


          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="rack_switch_details_modal.hide()">Close</button>
      </div>
    </div>
  </div>
</div>

<div *ngIf="current_rack_switch !== null"  bsModal #rack_switch_purchase_modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-warning" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title"><b>Purchase: </b>{{current_rack_switch['type']}}</h4>
        <button type="button" class="close" (click)="rack_switch_purchase_modal.hide()" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <b>You are about to purchase the rack switch:</b> <i>{{current_rack_switch['type']}}</i>!<br>
        <b>Price:</b> {{current_rack_switch['price'] | number}} D$
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="rack_switch_purchase_modal.hide()">Close</button>
        <button type="button" class="btn btn-warning">Purchase</button>
      </div>
    </div>
  </div>
</div>

